<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-a5ec48b45d3a91b2a864de52f17a42c7"}, "mark": {"type": "circle", "opacity": 0.6, "stroke": "black", "strokeWidth": 0.8}, "encoding": {"color": {"type": "nominal", "field": "Country", "scale": {"domain": ["NorthKorea", "SouthKorea"], "range": ["purple", "yellow"]}}, "size": {"type": "quantitative", "field": "gdp_per_capita_(million_Won)", "legend": {"title": "GDP per capita (unit: million won)"}, "scale": {"range": [10, 2800]}}, "tooltip": [{"type": "quantitative", "field": "gdp_per_capita_(million_Won)", "title": "GDP Per Capita"}, {"type": "quantitative", "field": "lifeExpectancy", "title": "Life Expectancy"}], "x": {"type": "nominal", "field": "year", "scale": {"type": "log"}, "title": "Year"}, "y": {"type": "quantitative", "field": "lifeExpectancy", "scale": {"zero": false}, "title": "Life Expectancy"}}, "height": 300, "title": "GDP per capita and life expectancy gap between the two Koreas", "width": 450, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-a5ec48b45d3a91b2a864de52f17a42c7": [{"Country": "NorthKorea", "year": 2012, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 72.1}, {"Country": "SouthKorea", "year": 2012, "gdp_per_capita_(million_Won)": 29.0, "lifeExpectancy": 84.2}, {"Country": "NorthKorea", "year": 2013, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 72.4}, {"Country": "SouthKorea", "year": 2013, "gdp_per_capita_(million_Won)": 30.0, "lifeExpectancy": 84.6}, {"Country": "NorthKorea", "year": 2014, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 72.6}, {"Country": "SouthKorea", "year": 2014, "gdp_per_capita_(million_Won)": 31.0, "lifeExpectancy": 85.0}, {"Country": "NorthKorea", "year": 2015, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 72.7}, {"Country": "SouthKorea", "year": 2015, "gdp_per_capita_(million_Won)": 33.0, "lifeExpectancy": 85.2}, {"Country": "NorthKorea", "year": 2016, "gdp_per_capita_(million_Won)": 1.5, "lifeExpectancy": 72.9}, {"Country": "SouthKorea", "year": 2016, "gdp_per_capita_(million_Won)": 34.0, "lifeExpectancy": 85.4}, {"Country": "NorthKorea", "year": 2017, "gdp_per_capita_(million_Won)": 1.5, "lifeExpectancy": 73.1}, {"Country": "SouthKorea", "year": 2017, "gdp_per_capita_(million_Won)": 36.0, "lifeExpectancy": 85.7}, {"Country": "NorthKorea", "year": 2018, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 73.3}, {"Country": "SouthKorea", "year": 2018, "gdp_per_capita_(million_Won)": 37.0, "lifeExpectancy": 85.7}, {"Country": "NorthKorea", "year": 2019, "gdp_per_capita_(million_Won)": 1.4, "lifeExpectancy": 73.5}, {"Country": "SouthKorea", "year": 2019, "gdp_per_capita_(million_Won)": 38.0, "lifeExpectancy": 85.9}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>